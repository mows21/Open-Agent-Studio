# ==============================================================================
# Open Agent Studio - Next.js Web Interface
# Environment Configuration Template
# ==============================================================================
# SECURITY: Never commit .env.local to version control
# Copy this to .env.local and fill in your actual values

# ==============================================================================
# CLERK AUTHENTICATION
# ==============================================================================
# Get these from: https://dashboard.clerk.com/
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
CLERK_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Clerk URL Configuration
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/dashboard
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/dashboard

# ==============================================================================
# SUPABASE DATABASE & STORAGE
# ==============================================================================
# Get these from: https://app.supabase.com/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://xxxxxxxxxxxxxxxxxxxxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.xxxxxxxxxxxxxxxxxxxxx
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.xxxxxxxxxxxxxxxxxxxxx

# Supabase Database Connection String (for server-side operations)
DATABASE_URL=postgresql://postgres:[password]@db.xxxxxxxxxxxxxxxxxxxxx.supabase.co:5432/postgres

# ==============================================================================
# CONVEX REAL-TIME DATABASE
# ==============================================================================
# Get these from: https://dashboard.convex.dev/
NEXT_PUBLIC_CONVEX_URL=https://xxxxxxxxxxxxxxxxxxxxx.convex.cloud
CONVEX_DEPLOYMENT=prod:xxxxxxxxxxxxxxxxxxxxx

# ==============================================================================
# UPSTASH REDIS (Rate Limiting & Caching)
# ==============================================================================
# Get these from: https://console.upstash.com/redis
UPSTASH_REDIS_REST_URL=https://xxxxxxxxxxxxxxxxxxxxx.upstash.io
UPSTASH_REDIS_REST_TOKEN=xxxxxxxxxxxxxxxxxxxxx

# ==============================================================================
# PYTHON BACKEND BRIDGE
# ==============================================================================
# Connection to the Python Desktop Automation Backend
PYTHON_BACKEND_URL=http://localhost:8080
PYTHON_BACKEND_API_KEY=your-secure-api-key-here-min-32-chars
PYTHON_BACKEND_WEBHOOK_SECRET=your-webhook-secret-here-min-32-chars

# ==============================================================================
# ANTHROPIC CLAUDE AI
# ==============================================================================
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
ANTHROPIC_MODEL=claude-sonnet-4-20250514

# ==============================================================================
# SECURITY CONFIGURATION
# ==============================================================================
# JWT Secret for additional token signing (generate with: openssl rand -base64 32)
JWT_SECRET=your-jwt-secret-minimum-32-characters-long-random-string

# Encryption key for sensitive data at rest (generate with: openssl rand -base64 32)
ENCRYPTION_KEY=your-encryption-key-minimum-32-characters-long-random-string

# Session configuration
SESSION_TIMEOUT_MINUTES=30
MAX_FAILED_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=15

# ==============================================================================
# RATE LIMITING CONFIGURATION
# ==============================================================================
# API Rate Limits (requests per window)
RATE_LIMIT_API_REQUESTS=100
RATE_LIMIT_API_WINDOW_MS=900000
RATE_LIMIT_ML_REQUESTS=10
RATE_LIMIT_ML_WINDOW_MS=60000

# ==============================================================================
# CORS & ALLOWED ORIGINS
# ==============================================================================
NEXT_PUBLIC_APP_URL=http://localhost:3000
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# ==============================================================================
# COMPUTER VISION & ML CONFIGURATION
# ==============================================================================
# Max file upload sizes (in bytes)
MAX_IMAGE_UPLOAD_SIZE=10485760
MAX_VIDEO_UPLOAD_SIZE=104857600

# Supported image formats
ALLOWED_IMAGE_FORMATS=image/jpeg,image/png,image/webp,image/gif

# ML Model Configuration
ML_MODEL_CACHE_DIR=/tmp/ml-models
ML_INFERENCE_TIMEOUT_MS=30000

# ==============================================================================
# WEBSOCKET CONFIGURATION (Live Sync)
# ==============================================================================
WEBSOCKET_PORT=3001
WEBSOCKET_SECURE=false
WEBSOCKET_MAX_CONNECTIONS=100

# ==============================================================================
# PRIVACY & COMPLIANCE
# ==============================================================================
# Data retention policy (days)
DATA_RETENTION_DAYS=90
LOG_RETENTION_DAYS=30

# Enable/disable telemetry and analytics
ENABLE_ANALYTICS=false
ENABLE_ERROR_REPORTING=true

# GDPR Compliance
ENABLE_DATA_EXPORT=true
ENABLE_DATA_DELETION=true

# ==============================================================================
# DEVELOPMENT/PRODUCTION MODE
# ==============================================================================
NODE_ENV=development
NEXT_TELEMETRY_DISABLED=1

# Debug mode (set to 'true' only in development)
DEBUG=false
VERBOSE_LOGGING=false

# ==============================================================================
# OPTIONAL: THIRD-PARTY INTEGRATIONS
# ==============================================================================
# Sentry (Error Tracking)
# SENTRY_DSN=https://xxxxxxxxxxxxxxxxxxxxx@o000000.ingest.sentry.io/0000000

# Stripe (if implementing payments)
# STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxx
# STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxx
# STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxx

# ==============================================================================
# NOTES
# ==============================================================================
# 1. Generate secure random secrets using: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
# 2. Never use these example values in production
# 3. Rotate all secrets regularly (every 90 days recommended)
# 4. Use different keys for development and production
# 5. Store production secrets in a secure vault (e.g., AWS Secrets Manager, Vault)
# 6. Enable audit logging for all secret access in production
